{"version":3,"sources":["../../src/providers/auth.ts","../../src/providers/websocket.ts","../../node_modules/@angular/core/fesm5 lazy","../../src lazy","../../src/pages/signin/signin.module.ts","../../src/pages/signin/signin.ts","../../src/pages/reminder/reminder.module.ts","../../src/pages/reminder/reminder.ts","../../src/pages/home/home.ts","../../src/providers/reminder.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/models/Patient.ts","../../src/app/app.component.ts","../../src/providers/token.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {ReplaySubject} from \"rxjs\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Injectable} from \"@angular/core\";\nimport {map, tap} from \"rxjs/internal/operators\";\nimport {Observable} from \"rxjs/Rx\";\nimport {Storage} from \"@ionic/storage\";\n// import {JwtHelperService} from \"@auth0/angular-jwt\";\nimport {Patient} from \"../models/Patient\";\n\n@Injectable()\nexport class AuthProvider {\n  private signin_url = '/user/signin';\n  private jwtTokenName = 'jwt_token';\n\n  authUser = new ReplaySubject<boolean>(1);\n\n  constructor(private readonly httpClient: HttpClient,\n              private readonly storage: Storage,\n              // private readonly jwtHelper: JwtHelperService\n  ) {\n  }\n\n  checkJwtLogin() {\n    // this.storage.remove(this.jwtTokenName);\n    // console.log('checkjwtLogin()');\n    this.storage.get(this.jwtTokenName).then(jwt => {\n      if (jwt) {\n        this.authUser.next(true);\n      }\n      else {\n        localStorage.removeItem(this.jwtTokenName);\n        this.storage.remove(this.jwtTokenName).then(() => this.authUser.next(false));\n      }\n    });\n  }\n\n  signin(patient: Patient):Observable<any>{\n    //A pipe takes in data as input and transforms it to a desired output\n    console.log('auth:signin');\n    return this.httpClient.post<any>(this.signin_url, {'patient': patient})\n      .pipe(tap(jwt=>this.handleJwtResponse(jwt)));\n  }\n\n  private handleJwtResponse(jwt) {\n    localStorage.setItem(this.jwtTokenName,jwt.token);\n    return this.storage.set(this.jwtTokenName, jwt.token)\n      .then(() => this.authUser.next(true))\n      .then(() => jwt.token);\n  }\n\n  signout() {\n    localStorage.removeItem(this.jwtTokenName);\n    this.storage.remove(this.jwtTokenName).then(() => this.authUser.next(null));\n  }\n\n  signup(values: any) {\n    // return this.httpClient.post(this.url, values, {responseType: 'text'})\n    //   .pipe(tap(jwt => {\n    //     if (jwt !== 'EXISTS') {\n    //       return this.handleJwtResponse(jwt);\n    //     }\n    //     return jwt;\n    //   }));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as Stomp from 'stompjs'\n\n/*\n  Generated class for the WebsocketProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class WebsocketProvider {\n  private ws_connection = 'ws://localhost:8080/connect';\n  private patient_subscribe = '/topic/receivereminder';\n  private patient_send = '/app/senddone';\n  public stompClient;\n\n  constructor(public http: HttpClient) {\n    this.stompClient = Stomp.over(new WebSocket(this.ws_connection));\n    // (void) connect(headers, connectCallback): Called upon a successful connect or reconnect\n    // this.stompClient.connect({},frame=>{\n    //   this.stompClient.subscribe(this.patient_subscribe, reminder=>{\n    //     // ;\n    //     // console.log('curReminder: ', this.curReminder.description);\n    //     this.reminders.push(JSON.parse(reminder.body));\n    //     // console.log(this.reminders.length);\n    //\n    //\n    //   })\n    // })\n  }\n\n\n  connect(cbfun){\n    this.stompClient.connect({},frame=>{\n      this.stompClient.subscribe(this.patient_subscribe,cbfun);\n    })\n  }\n\n  sendDoneMark(reminder){\n    this.stompClient.send(this.patient_send,{},JSON.stringify(reminder));\n  }\n\n  disconnect(){\n    if (this.stompClient != null){\n      this.stompClient.disconnect();\n    }\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/websocket.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 225;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/fesm5 lazy\n// module id = 225\n// module chunks = 0","var map = {\n\t\"../pages/reminder/reminder.module\": [\n\t\t301\n\t],\n\t\"../pages/signin/signin.module\": [\n\t\t268\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 267;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 267\n// module chunks = 0","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SigninPage } from './signin';\n\n@NgModule({\n  declarations: [\n    SigninPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SigninPage),\n  ],\n})\nexport class SigninPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.module.ts","import {Component, ViewChild} from '@angular/core';\nimport {IonicPage, LoadingController, NavController,ToastController } from 'ionic-angular';\nimport {AuthProvider} from \"../../providers/auth\";\nimport {first} from \"rxjs/internal/operators\";\nimport {Patient} from \"../../models/Patient\";\n// import {HomePage} from \"../home/home\";\n// import {finalize} from \"rxjs/operators\";\n\n/**\n * Generated class for the SigninPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'signin.html',\n})\nexport class SigninPage {\n\n  private patient = new Patient();\n\n  constructor(\n              public readonly navCtrl: NavController,\n              private readonly loadingCtrl: LoadingController,\n              private readonly authProvider: AuthProvider,\n              private readonly toastCtrl: ToastController\n              ){ }\n\n\n  signin(value: any) {\n    // console.log(\"begin signin 1\");\n    // console.log(\"this.patient:  \",this.patient);\n    this.authProvider.signin(this.patient)\n      .pipe(first())\n      .subscribe(\n        data => {console.log('success: ', \"signin success\")},\n        err => console.log('error: ',err));\n  }\n\n  // handleError(error: any) {\n  //   let message: string;\n  //   if (error.status && error.status === 401) {\n  //     message = 'Login failed';\n  //   }\n  //   else {\n  //     message = `Unexpected error: ${error.statusText}`;\n  //   }\n  //\n  //   const toast = this.toastCtrl.create({\n  //     message,\n  //     duration: 5000,\n  //     position: 'bottom'\n  //   });\n  //\n  //   toast.present();\n  // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ReminderPage } from './reminder';\n\n@NgModule({\n  declarations: [\n    ReminderPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ReminderPage),\n  ],\n})\nexport class ReminderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reminder/reminder.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {Reminder} from \"../../models/reminder\";\nimport {WebsocketProvider} from '../../providers/websocket'\n\n/**\n * Generated class for the ReminderPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-reminder',\n  templateUrl: 'reminder.html',\n})\nexport class ReminderPage {\n  reminder:Reminder;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private wsProvider: WebsocketProvider) {\n    this.reminder = navParams.get('reminder');\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad ReminderPage');\n    // console.log(this.reminder);\n  }\n\n  onMarkAsDone(){\n    console.log(this.reminder);\n    this.wsProvider.sendDoneMark(this.reminder);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reminder/reminder.ts","import { Component } from '@angular/core';\nimport { NavController, AlertController, Platform} from 'ionic-angular';\nimport {SigninPage} from \"../signin/signin\";\nimport {Reminder} from \"../../models/reminder\";\n// import * as Stomp from 'stompjs'\n// import {HttpClient} from \"@angular/common/http\";\nimport {LocalNotifications} from '@ionic-native/local-notifications'\nimport {AuthProvider} from \"../../providers/auth\";\nimport {ReminderPage} from \"../reminder/reminder\";\nimport {WebsocketProvider} from '../../providers/websocket';\nimport {ReminderProvider} from \"../../providers/reminder\";\nimport {date} from \"ng2-validation/dist/date\";\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  public reminders:Reminder[] = [];\n\n  constructor(public navCtrl: NavController,\n              private localNotification: LocalNotifications,\n              public wsProvider:WebsocketProvider,\n              private plt:Platform,\n              public alt: AlertController,\n              private readonly authProvider: AuthProvider,\n              private reminderProvider:ReminderProvider\n              ) {\n    this.plt.ready().then(\n      (rdy)=>{\n        this.localNotification.on('click').subscribe((notification)=>{\n          let json = JSON.parse(notification.data);\n\n          let alter = this.alt.create({\n            title:notification.title,\n            subTitle:json.mydata\n          });\n          alter.present();\n        },\n          (error)=>console.log(error))\n      })\n\n    this.reminderProvider.getAllReminders().subscribe(data=>{\n      for (let key in data) {\n        this.reminders.push(data[key]);\n        console.log(data);\n      }\n    })\n    // for (let i of [1]){\n    //   let reminder = new Reminder();\n    //   reminder.description = 'reminder' + i;\n    //   reminder.duration = 1234;\n    //   this.reminders.push(reminder);\n    // }\n    // for (let reminder of this.reminders){\n    //   console.log(reminder.title + \"\\n\");\n    // }\n\n\n    // this.stompClient = Stomp.over(new WebSocket(this.ws_connection));\n    // (void) connect(headers, connectCallback): Called upon a successful connect or reconnect\n    // this.stompClient.connect({},frame=>{\n    //   this.stompClient.subscribe(this.patient_subscribe, reminder=>{\n    //     // ;\n    //     // console.log('curReminder: ', this.curReminder.description);\n    //     // this.reminders.push(JSON.parse(reminder.body));\n    //     // console.log(this.reminders.length);\n    //\n    //\n    //   })\n    // })\n    this.wsProvider.connect((reminder)=>{\n      if(reminder.body){\n        alert(\"A new reminder!\");\n      }\n      this.reminders.unshift(JSON.parse(reminder.body));\n    });\n  }\n\n  onHomeClick(){\n    this.authProvider.signout();\n  }\n\n  onNavToReminderPage(reminder){\n    console.log(\"will jump to detail reminder page!\");\n    this.navCtrl.push(ReminderPage,{'reminder':reminder});\n  }\n\n  scheduleNotification(){\n    this.localNotification.schedule({\n      id: 1,\n      title: 'attention',\n      text: 'test',\n      data:{mydata:\"hidden message is this\"}\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport {Reminder} from \"../models/reminder\";\nimport {tap} from \"rxjs/internal/operators\";\n\n/*\n  Generated class for the ReminderProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class ReminderProvider {\n  get_all_history_reminders_url = '/patient/getallhistoryreminders';\n\n  constructor(public http: HttpClient) {\n    console.log('Hello ReminderProvider Provider');\n  }\n\n  markReminderAsDone(reminder:Reminder){\n    reminder.done = true;\n\n  }\n\n  getAllReminders(){\n    return this.http.get(this.get_all_history_reminders_url).pipe(tap(data=>{\n      if (data){\n        console.log(data);\n        return data;\n      }\n    }))\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/reminder.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from \"@angular/common/http\";\nimport { AuthProvider } from '../providers/auth';\nimport {SigninPageModule} from \"../pages/signin/signin.module\";\n// import {JwtModule,JWT_OPTIONS,JwtInterceptor,JwtHelperService} from '@auth0/angular-jwt'\nimport {Storage, IonicStorageModule} from \"@ionic/storage\";\nimport {LocalNotifications} from \"@ionic-native/local-notifications\";\n// import {SigninPage} from \"../pages/signin/signin\";\nimport {ReminderPageModule} from \"../pages/reminder/reminder.module\";\nimport { ReminderProvider } from '../providers/reminder';\nimport { WebsocketProvider } from '../providers/websocket';\nimport { TokenProvider } from '../providers/token';\n\nexport function jwtOptionsFactory(storage:Storage) {\n  return {\n    tokenGetter: () => storage.get('jwt_token'),\n    whitelistedDomains: ['localhost:8080']\n  }\n}\n// config: {\n//   tokenGetter: ()=>this.storage.getItem('token'),\n//     whitelistedDomains: ['localhost:8080'],\n//     headerName: 'Authorization',\n//     authScheme: 'Bearer ',\n//     throwNoTokenError: false,\n//     skipWhenExpired: true\n// }\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    HttpClientModule,\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot(),\n    SigninPageModule,\n    ReminderPageModule,\n    // JwtModule.forRoot({\n    //   jwtOptionsProvider: {\n    //     provide: JWT_OPTIONS,\n    //     useFactory: jwtOptionsFactory,\n    //     deps: [Storage]\n    //   }\n    // })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    AuthProvider,\n    // JwtHelperService,\n    {provide: HTTP_INTERCEPTORS, useClass: TokenProvider, multi: true },\n    LocalNotifications,\n    ReminderProvider,\n    WebsocketProvider,\n    TokenProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export class Patient{\n  public username: string;\n  public password: string;\n  public disease: string;\n\n  constructor(){}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/Patient.ts","import { Component } from '@angular/core';\nimport {NavController, Platform} from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\nimport {AuthProvider} from \"../providers/auth\";\nimport {SigninPage} from \"../pages/signin/signin\";\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = SigninPage;\n\n  constructor(platform: Platform,\n              statusBar: StatusBar,\n              splashScreen: SplashScreen,\n              private authProvider: AuthProvider,\n              ){\n\n      platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n\n    this.authProvider.checkJwtLogin();\n    this.authProvider.authUser.subscribe(bsuccess => {\n      if (bsuccess) {\n        this.rootPage = HomePage;\n      }\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Injectable} from '@angular/core';\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class TokenProvider implements HttpInterceptor {\n  private jwtTokenName = 'jwt_token';\n\n  intercept(req: HttpRequest<any>,\n            next: HttpHandler): Observable<HttpEvent<any>> {\n\n    const idToken = localStorage.getItem(this.jwtTokenName);\n\n    if (idToken) {\n      console.log(\"localstorage: \", idToken);\n      const cloned = req.clone({\n        setHeaders: {\n          Accept: `application/json`,\n          'Content-Type': `application/json`,\n          Authorization: `Bearer ${idToken}`\n        }\n      });\n\n\n      return next.handle(cloned);\n    }\n    else {\n      return next.handle(req);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/token.ts"],"sourceRoot":""}